<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Dec207Hub - AI Chat Demo</title>
    
    <!-- Dec207Hub Retro Mac CSS -->
    <link rel="stylesheet" href="./assets/retro_mac.css">
    
    <!-- Custom Demo Styles -->
    <style>
        /* ì „ì²´í™”ë©´ ìµœì í™” */
        
        .feature-list {
            list-style: none;
            padding: 0;
        }
        
        .feature-list li {
            padding: 4px 0;
            border-bottom: 1px solid var(--gray-light);
        }
        
        .feature-list li:before {
            content: "ğŸ¤– ";
            margin-right: 8px;
        }
        
        .model-info {
            background: var(--primary-black);
            color: var(--terminal-green);
            padding: 8px;
            font-family: var(--font-mono);
            font-size: 11px;
            border-radius: 2px;
            margin: 4px 0;
        }
        
        /* ì „ì²´í™”ë©´ ì±„íŒ… ì»´í…Œì´ë„ˆ */
        .fullscreen-chat {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: var(--macos-white);
            z-index: 1000;
            display: flex;
            flex-direction: column;
        }
        
        /* ì±„íŒ… ì»¨í…Œì´ë„ˆ ë ˆì´ì•„ì›ƒ ìˆ˜ì • */
        .fullscreen-chat .dec207-chat-container {
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        /* ì±„íŒ… ë©”ì‹œì§€ ì˜ì—­ì´ ë‚¨ì€ ê³µê°„ì„ ëª¨ë‘ ì‚¬ìš© */
        .fullscreen-chat .dec207-chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: var(--space-md);
        }
        
        /* ì…ë ¥ ì˜ì—­ì´ í•˜ë‹¨ì— ê³ ì • */
        .fullscreen-chat .dec207-chat-input {
            flex-shrink: 0;
            background: var(--macos-white);
            border-top: 1px solid var(--macos-gray);
            padding: var(--space-md);
        }
        
        /* ëª¨ë°”ì¼ ìµœì í™” */
        @media (max-width: 768px) {
            .dec207-sidebar {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <div class="dec207-desktop">
        <!-- Logo -->
        <div class="dec207-logo">
            <div class="hub-title">Dec207Hub</div>
            <div class="hub-subtitle">AI Chat System</div>
        </div>

        <!-- ì „ì²´í™”ë©´ ì±„íŒ… ì»´í…Œì´ë„ˆ -->
        <div class="fullscreen-chat">
            
            <!-- ì±„íŒ… ì»´í…Œì´ë„ˆ -->
            <div class="dec207-chat-container">
                <!-- Chat Header -->
                <div class="dec207-chat-header">
                    <div class="dec207-chat-status">
                        <div class="dec207-status-indicator"></div>
                        <span>DEMO MODE</span>
                    </div>
                    <div class="dec207-font-tech">
                        Dec207Hub v1.0
                    </div>
                </div>

                <!-- Chat Messages Area -->
                <div class="dec207-chat-messages dec207-scrollbar">
                    <!-- Messages will be added here dynamically -->
                </div>

                <!-- Chat Input -->
                <div class="dec207-chat-input">
                    <form class="dec207-chat-form">
                        <input type="text" 
                               id="chat-input-field" 
                               class="dec207-input-field" 
                               placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”... (Enterë¡œ ì „ì†¡)"
                               autocomplete="off">
                        
                        <div class="dec207-voice-controls">
                            <button type="button" class="dec207-voice-btn speaker" title="TTS í† ê¸€">ğŸ”Š</button>
                        </div>
                        
                        <button type="button" class="dec207-btn primary">ì „ì†¡</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Dec207Hub Configuration -->
    <script src="./config.js"></script>
    
    <!-- Dec207Hub Modular JavaScript Framework -->
    <script src="./assets/dec207_config.js"></script>
    <script src="./assets/ui_components.js"></script>
    <script src="./assets/voice_handler.js"></script>
    <script src="./assets/websocket_client.js"></script>
    <script src="./assets/chat_system.js"></script>
    <script src="./assets/retro_mac.js"></script>
    
    <!-- Demo Functions -->
    <script>
        // Voice Settings Dialog
        function showVoiceSettings() {
            Dec207Hub.showDialog({
                title: 'Voice Settings',
                message: `
                    <div style="text-align: left;">
                        <h4>ìŒì„± ì„¤ì •</h4>
                        <p><strong>STT Language:</strong> í•œêµ­ì–´ (ko-KR)</p>
                        <p><strong>TTS Language:</strong> í•œêµ­ì–´ (ko-KR)</p>
                        <p><strong>Voice Rate:</strong> 0.9</p>
                        <p><strong>Voice Pitch:</strong> 1.0</p>
                        <br>
                        <div class="model-info">
                            ë¸Œë¼ìš°ì €ì˜ Web Speech APIë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.<br>
                            Chrome/Edgeì—ì„œ ìµœì í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
                        </div>
                    </div>
                `,
                buttons: ['í™•ì¸']
            });
        }

        // Export Chat History
        function exportChatHistory() {
            const chatMessages = document.querySelectorAll('.dec207-message');
            let exportText = '=== Dec207Hub Chat Export ===\n\n';
            
            chatMessages.forEach(msg => {
                const sender = msg.classList.contains('user') ? 'USER' : 
                              msg.classList.contains('ai') ? 'AI' : 'SYSTEM';
                exportText += `[${sender}] ${msg.textContent}\n`;
            });
            
            exportText += `\n=== Exported at ${new Date().toLocaleString()} ===`;
            
            // Create download link
            const blob = new Blob([exportText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `dec207hub_chat_${Date.now()}.txt`;
            a.click();
            URL.revokeObjectURL(url);
            
            Dec207Hub.showNotification('ì±„íŒ… ê¸°ë¡ì´ ë‚´ë³´ë‚´ì¡ŒìŠµë‹ˆë‹¤.');
        }

        // Demo Model Information
        function showModelInfo() {
            Dec207Hub.showDialog({
                title: 'AI Model Information',
                message: `
                    <div style="text-align: left;">
                        <h4>í˜„ì¬ ëª¨ë¸: Qwen3:7B (Demo)</h4>
                        <ul class="feature-list">
                            <li>Tool Calling ì§€ì›</li>
                            <li>í•œêµ­ì–´ ìµœì í™”</li>
                            <li>MCP í”„ë¡œí† ì½œ í˜¸í™˜</li>
                            <li>ì‹¤ì‹œê°„ ì‘ë‹µ</li>
                        </ul>
                        <div class="model-info">
                            ì‹¤ì œ ì‚¬ìš©ì„ ìœ„í•´ì„œëŠ” Ollama ì„œë²„ì™€<br>
                            Python FastAPI ë°±ì—”ë“œê°€ í•„ìš”í•©ë‹ˆë‹¤.
                        </div>
                    </div>
                `,
                buttons: ['í™•ì¸']
            });
        }

        // Menu click handlers
        document.addEventListener('dec207-menu-click', (e) => {
            const menu = e.detail.menu;
            
            switch(menu) {
                case 'file':
                    Dec207Hub.showNotification('íŒŒì¼ ë©”ë‰´ (ì¤€ë¹„ì¤‘)');
                    break;
                case 'edit':
                    Dec207Hub.showNotification('í¸ì§‘ ë©”ë‰´ (ì¤€ë¹„ì¤‘)');
                    break;
                case 'view':
                    Dec207Hub.toggleTheme();
                    break;
                case 'blender':
                    Dec207Hub.connectBlender();
                    break;
                case 'unity':
                    Dec207Hub.connectUnity();
                    break;
                case 'help':
                    // Override default help
                    showAboutDialog();
                    break;
            }
        });

        function showAboutDialog() {
            Dec207Hub.showDialog({
                title: 'About Dec207Hub',
                message: `
                    <div style="text-align: center;">
                        <h2 style="color: #00ff00; font-family: Orbitron;">Dec207Hub</h2>
                        <p><strong>Version:</strong> 1.1.0 (Chat Only)</p>
                        <p><strong>Created by:</strong> dec207</p>
                        <br>
                        <div style="text-align: left;">
                            <h4>ğŸš€ Current Features:</h4>
                            <ul class="feature-list">
                                <li>AI Chat with Ollama</li>
                                <li>Voice Recognition (STT)</li>
                                <li>Text-to-Speech (TTS)</li>
                                <li>Conversation History</li>
                                <li>Retro Mac OS UI</li>
                                <li>Mobile Responsive</li>
                            </ul>
                            <br>
                            <h4>âš ï¸ Disabled Features:</h4>
                            <ul class="feature-list">
                                <li style="color: #888;">MCP Integration</li>
                                <li style="color: #888;">Blender 3D Support</li>
                                <li style="color: #888;">Unity Engine Support</li>
                            </ul>
                        </div>
                        <br>
                        <div class="model-info">
                            ğŸ® Game Developer<br>
                            ğŸ’¼ SAP ABAP Developer<br>
                            â˜• Java Developer<br>
                            ğŸ“± Android Developer
                        </div>
                    </div>
                `,
                buttons: ['í™•ì¸']
            });
        }

        // Keyboard shortcuts info
        document.addEventListener('keydown', (e) => {
            if (e.key === 'F1') {
                e.preventDefault();
                Dec207Hub.showDialog({
                    title: 'Keyboard Shortcuts',
                    message: `
                        <div style="text-align: left; font-family: monospace;">
                            <h4>í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤</h4>
                            <p><strong>Ctrl+N:</strong> ìƒˆ ì°½</p>
                            <p><strong>Ctrl+T:</strong> í…Œë§ˆ í† ê¸€</p>
                            <p><strong>Ctrl+L:</strong> ì±„íŒ… ê¸°ë¡ ì‚­ì œ</p>
                            <p><strong>Enter:</strong> ë©”ì‹œì§€ ì „ì†¡</p>
                            <p><strong>F1:</strong> ë‹¨ì¶•í‚¤ ë„ì›€ë§</p>
                        </div>
                    `,
                    buttons: ['í™•ì¸']
                });
            }
        });

        // Initialize demo messages after page load
        window.addEventListener('load', () => {
            // ë©”ì‹œì§€ëŠ” JavaScriptì—ì„œ ì²˜ë¦¬
        });

        // ì—”í„° í‚¤ ë¬¸ì œ ì¦‰ì‹œ í•´ê²° ìŠ¤í¬ë¦½íŠ¸
        function fixEnterKeyIssue() {
            const chatForm = document.querySelector('.dec207-chat-form');
            if (chatForm) {
                chatForm.removeAttribute('action');
                chatForm.removeAttribute('method');
                chatForm.removeAttribute('onsubmit');
                console.log('âœ… ì—”í„° í‚¤ ë¦¬ë‹¤ì´ë ‰íŠ¸ ë¬¸ì œ í•´ê²°ë¨!');
            }
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ ìˆ˜ì •
        document.addEventListener('DOMContentLoaded', fixEnterKeyIssue);
        
        // ì „ì—­ í•¨ìˆ˜ë¡œ ë“±ë¡ (ì½˜ì†”ì—ì„œ ìˆ˜ë™ ì‹¤í–‰ ê°€ëŠ¥)
        window.fixEnterKeyIssue = fixEnterKeyIssue;

        // Console welcome message
        console.log(`
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘           Dec207Hub Demo             â•‘
    â•‘      Retro Mac AI Chat System        â•‘
    â•‘                                      â•‘
    â•‘  Created by dec207                   â•‘
    â•‘  Version: 1.1.0 (Fixed Enter Key)    â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        `);
        
        console.log('âœ… ì—”í„° í‚¤ ë¦¬ë‹¤ì´ë ‰íŠ¸ ë¬¸ì œ í•´ê²°: ìˆ˜ë™ ìˆ˜ì •ì´ í•„ìš”í•˜ë©´ fixEnterKeyIssue() ì‹¤í–‰');
    </script>
</body>
</html>
